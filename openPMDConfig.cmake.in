# only add PUBLIC dependencies as well
#   https://cmake.org/cmake/help/latest/manual/cmake-packages.7.html#creating-a-package-configuration-file
include(CMakeFindDependencyMacro)

find_dependency(Boost)

set(openPMD_HAVE_MPI @openPMD_HAVE_MPI@)
if(openPMD_HAVE_MPI)
    find_dependency(MPI)
endif()
set(MPI_LIBRARY "")
set(MPI_DEFINITIONS ${openPMD_HAVE_MPI})

set(openPMD_HAVE_HDF5 @openPMD_HAVE_HDF5@)
if(openPMD_HAVE_HDF5)
    find_dependency(HDF5)
endif()
set(HDF5_LIBRARY "")
set(HDF5_DEFINITIONS ${openPMD_HAVE_HDF5})

set(openPMD_HAVE_ADIOS1 @openPMD_HAVE_ADIOS1@)
if(openPMD_HAVE_ADIOS1)
    find_dependency(ADIOS)
endif()
set(ADIOS1_LIBRARY "")
set(ADIOS1_DEFINITIONS ${openPMD_HAVE_ADIOS1})

set(openPMD_HAVE_ADIOS2 @openPMD_HAVE_ADIOS2@)
if(openPMD_HAVE_ADIOS2)
    find_dependency(ADIOS2)
endif()
set(ADIOS2_LIBRARY "")
set(ADIOS2_DEFINITIONS ${openPMD_HAVE_ADIOS2})

include("${CMAKE_CURRENT_LIST_DIR}/openPMDTargets.cmake")

# check if components are fulfilled and set openPMD_<COMPONENT>_FOUND vars
check_required_components(
    MPI
    HDF5
    ADIOS1
    ADIOS2
)
